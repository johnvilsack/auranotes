<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraNotes</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body class="p-4 bg-gray-100">
    <div class="container mx-auto">
        <h1 class="mb-4 text-xl font-bold text-center text-gray-700">AuraNotes</h1>
        
        <div id="storagePreferenceSection" style="display: none;" class="mb-4 p-3 bg-yellow-100 border border-yellow-300 rounded">
            <p class="text-sm text-yellow-800 mb-2 font-semibold">Choose Storage Location:</p>
            <p class="text-xs text-yellow-700 mb-3">Select where your AuraNotes data file will be stored in Google Drive.</p>
            <button id="storeInHiddenFolderButton" class="w-full px-3 py-2 mb-2 text-sm font-medium text-white transition duration-150 ease-in-out rounded bg-indigo-500 hover:bg-indigo-600">
                Hidden App Folder (Recommended)
                <span class="block text-xs opacity-80">Keeps Drive clean, less direct access.</span>
            </button>
            <button id="storeInVisibleFolderButton" class="w-full px-3 py-2 mb-2 text-sm font-medium text-white transition duration-150 ease-in-out rounded bg-purple-500 hover:bg-purple-600">
                Visible '/AuraNotes/' Folder
                <span class="block text-xs opacity-80">Direct file access, version history.</span>
            </button>
            <div class="mt-3 text-center">
                 <span id="useLocalOnlyLink" class="text-xs text-blue-600 hover:text-blue-800 underline cursor-pointer">Or, use AuraNotes with local storage only.</span>
            </div>
            <button id="storagePreferenceBackButton" class="w-full px-3 py-1 mt-3 text-xs text-gray-700 bg-gray-200 hover:bg-gray-300 rounded transition duration-150 ease-in-out">
                Back
            </button>
        </div>

        <button id="connectGoogleButton" class="w-full px-4 py-2 mb-3 font-bold text-white transition duration-150 ease-in-out rounded bg-orange-500 hover:bg-orange-600" style="display: none;">
            Connect to Google Drive
        </button>

        <button id="addNoteButton" class="w-full px-4 py-2 mb-3 font-bold text-white transition duration-150 ease-in-out rounded bg-blue-500 hover:bg-blue-600" style="display: none;">
            Add New Note
        </button>

        <button id="syncNowButton" class="w-full px-4 py-2 mb-3 font-bold text-white transition duration-150 ease-in-out rounded bg-green-500 hover:bg-green-600" style="display: none;">
            Sync Now
        </button>
        
        <div id="syncStatusContainer" class="flex items-center justify-center p-2 mb-3 text-sm text-gray-600 rounded bg-gray-200" style="display: none;">
            <div id="syncSpinner" class="spinner mr-2" style="display: none;"></div>
            <span id="syncStatusText">Loading status...</span>
        </div>
        
        <!-- Popup Modal Placeholder -->
        <div id="popupModalHost" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center;">
            <div id="popupModalContent" style="background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 280px; /* Adjusted for popup */ text-align: center;">
                <p id="popupModalMessage" style="margin-bottom: 15px; font-size: 0.9rem; color: #333;"></p>
                <div id="popupModalActions" style="display: flex; justify-content: space-around;">
                    <button id="popupModalConfirmButton" class="px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded">Confirm</button>
                    <button id="popupModalCancelButton" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded">Cancel</button>
                </div>
            </div>
        </div>

    </div>
    <script src="popup.js"></script>
</body>
</html>